# تقرير مبسط وتحليل لملفات المشروع (محرر أفان تيتر)

هذا التقرير يشرح دور مجموعة من الملفات في مشروعك بشكل مبسط وسلس، مع توضيح ما إذا كانت تعمل حالياً في التطبيق أم تم الاستغناء عنها، ومقارنة مستواها التقني.

---

## 1. أساسيات التطبيق (الملفات الشغالة والمهمة جداً)

هذه الملفات هي قلب البرنامج النابض، وبدونها لا يعمل محرر السيناريو:

- **مفاتيح التشغيل ([App.tsx](file:///E:/%D9%85%D8%AD%D8%B1%D8%B1/src/App.tsx) و [main.tsx](file:///E:/%D9%85%D8%AD%D8%B1%D8%B1/src/main.tsx) و [editor.ts](file:///E:/%D9%85%D8%AD%D8%B1%D8%B1/src/editor.ts))**:
  - **دورها**: هي الواجهة التي يراها المستخدم (الشاشة، الأزرار، اختصارات لوحة المفاتيح) والمحرك الأساسي الذي يسمح لك بكتابة السيناريو وتعديله.
- **مركز استيراد الملفات (`utils/file-import` بكامل ملفاته الفرعية)**:
  - **دوره**: هذه المجموعة عبارة عن "نظام ذكي جداً" لاستقبال ملفات الوورد و الـ PDF التي يرفعها المستخدم. تقوم بقراءة النص، وتنظيفه من الأخطاء والمسافات الزائدة، ثم تحويله تلقائياً إلى شكل سيناريو دقيق (مشهد، حوار، حدث).
- **ملفات القواعد (`types/`)**:
  - **دورها**: هي بمثابة الدستور أو "القوانين الصارمة" في البرمجة، تضمن مرور البيانات بين أجزاء البرنامج بسلاسة تامة وبدون أي أخطاء مفاجئة.

---

## 2. تقنيات سابقة لعصرها في مشروعك (إبداع هندسي متطور جداً)

هنا نجد برمجة تتفوق على العديد من التطبيقات العالمية، حيث تم تصميم حلول شديدة الذكاء:

- **نظام التشفير وحفظ التنسيق ([document-model.ts](file:///E:/%D9%85%D8%AD%D8%B1%D8%B1/src/utils/file-import/document-model.ts))**:
  - لكي لا يفقد السيناريو تنسيقه عند النسخ واللصق، يقوم هذا النظام بتحويل الكتل المكتوبة إلى شفرات سرية محمية بـ "ختم" (Checksum). هذا يضمن لك أن النسخ واللصق سيكون دقيقاً بنسبة 100% دون أي فرصة لتشوه النص.
- **الحارس الشخصي للسيناريو ([structure-pipeline.ts](file:///E:/%D9%85%D8%AD%D8%B1%D8%B1/src/types/structure-pipeline.ts))**:
  - نظام وقائي شديد الذكاء. إذا قمت بإدخال ملف جديد ولاحظ البرنامج أن هذا الملف قد يؤدي إلى مسح أو تخريب السيناريو الذي تعبت في كتابته، فإنه يتدخل فوراً، يوقف العملية، ويضع حماية على مجهودك.
- **المصنف الخفي أثناء الكتابة ([typing-system.ts](file:///E:/%D9%85%D8%AD%D8%B1%D8%B1/src/types/typing-system.ts))**:
  - يراقب كتابتك بهدوء، وبمجرد أن تتوقف لثوانٍ معدودة لالتقاط أنفاسك، يقوم البرنامج بترتيب وتصنيف ما كتبته في الخلفية (يحدد ما هو الحوار وما هو وصف المشهد) دون أن يجعل الشاشة تتجمد المكتوب.

---

## 3. أدوات تخص المستقبل (غير مكتملة أو غير مفعلة حالياً في الواجهة)

تقنيات تم إعداد أرضيتها في الكود، لكنها تنتظر التفعيل لتعمل بشكل كامل:

- **المراجع الذكي بالذكاء الاصطناعي ([types/agent-review.ts](file:///E:/%D9%85%D8%AD%D8%B1%D8%B1/src/types/agent-review.ts))**:
  - **دوره**: وضع تخطيط لربط التطبيق بذكاء اصطناعي فائق (مثل Claude Opus). الفكرة هي: إذا واجه التطبيق جملاً غير مفهومة أو صعبة التصنيف، يرسلها لهذا الذكاء الاصطناعي ليقوم بتصحيحها وفهمها نيابة عنك.
  - **حالته**: هذا ملف "تخطيط للمستقبل"، ولم يتم تفعيله فعلياً ليتدخل في عمل واجهة المستخدم الحالية.
- **قارئ ملفات الوورد القديمة جداً ([backend-extract.ts](file:///E:/%D9%85%D8%AD%D8%B1%D8%B1/src/utils/file-import/extract/backend-extract.ts))**:
  - **حالته**: ميزة مجهزة للعمل فقط إذا قمت بربط التطبيق بـ (سيرفر خارجي مخصص)، لأن المتصفح العادي يعجز عن قراءة ملفات التطبيقات القديمة بمفرده.

---

## 4. ملفات عفا عليها الزمن (نحن الآن متطورون عنها بكثير)

- **الشريط الكلاسيكي ([toolbar.ts](file:///E:/%D9%85%D8%AD%D8%B1%D8%B1/src/toolbar.ts))**:
  - **حالته**: غير مستخدم وتم الاستغناء عنه.
  - **السبب**: هذا الملف كان محاولة بدائية وقديمة لإنشاء شريط أدوات في بداية المشروع. الواجهة الحالية للبرنامج تطورت بشكل مبهر وتستخدم الآن "شريطاً عائماً (Dock)" احترافياً وحركات حديثة، مما جعل هذا الملف التابع للماضي مجرد "كود تاريخي" لا تستخدمه النسخة المكتملة.
